<body>
    <div id="container"></div>
    <!-- Skeleton -->

    <template id="skeletonTemplete">
      <div>
        <div
          role="status"
          class="max-w p-4 space-y-4 border border-gray-200 divide-y divide-gray-200 rounded-sm shadow-sm animate-pulse dark:divide-gray-700 md:p-6 dark:border-gray-700"
        >
          <div class="flex items-center justify-between pt-4">
            <div>
              <div
                class="w-120 h-4 bg-gray-200 rounded-full dark:bg-gray-700"
              ></div>
              <br />
              <div
                class="h-5 bg-gray-300 rounded-full dark:bg-gray-600 w-48 mb-2.5"
              ></div>
            </div>
            <div
              class="h-8 bg-gray-300 rounded-full dark:bg-gray-700 w-32"
            ></div>
          </div>
        </div>
      </div>
    </template>

    <!-- cardTemplete -->
    <template id="cardTemplete">
      <div
        class="max-w p-4 space-y-4 border border-gray-200 divide-y divide-gray-200 rounded-sm shadow-sm dark:divide-gray-700 md:p-6 dark:border-gray-700"
      >
        <div class="flex items-center justify-between pt-4">
          <div>
            <h2 class="text-lg font-semibold text-gray-900 mb-2">Title</h2>
            <p class="text-sm text-gray-600 dark:text-gray-400">Complated?</p>
          </div>
          <button
            class="delete px-3 py-1 text-center text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-200 w-32"
          >
            Delete
          </button>
          <button
            class="info px-3 py-1 text-center text-blue-800 bg-blue-100 rounded-full dark:bg-blue-900 dark:text-blue-200 w-32"
          >
            More
          </button>
        </div>
      </div>
    </template>
    <script src="../node_modules/flowbite/dist/flowbite.min.js"></script>

    <script src="./js/api.js"></script>
  </body>


  api.js
  const elContainer = document.getElementById("container");
const elSkeletonTemplete = document.getElementById("skeletonTemplete");
const elCardTemplete = document.getElementById("cardTemplete");

showSkeletons(15);

function init() {
  fetch("https://jsonplaceholder.typicode.com/todos")
    .then((res) => res.json())
    .then((res) => {
      setTimeout(() => {
        ui(res);
      }, 2000);
    })
    .catch((err) => {
      console.error(err);
    });
}
function showSkeletons(count) {
  elContainer.innerHTML = "";
  for (let i = 0; i < count; i++) {
    const clone = elSkeletonTemplete.content.cloneNode(true);
    elContainer.appendChild(clone);
  }
}

function deleteEl(id) {
  fetch(`https://jsonplaceholder.typicode.com/todos/${id}`, {
    method: "DELETE",
  })
    .then(() => {
      init();
    })
    .then((res) => {})
    .finally(() => {});
}
init();

function ui(todos) {
  elContainer.innerHTML = "";
  todos.forEach((todo) => {
    const clone = elCardTemplete.content.cloneNode(true);
    const title = clone.querySelector("h2");
    const status = clone.querySelector("p");
    const button = clone.querySelector(".info");
    const deleteButton = clone.querySelector(".delete");

    button.addEventListener("click", () => {
      alert(`
            userId: ${todo.userId}
            id: ${todo.id}
            title: ${todo.title}
            completed: ${todo.completed}
          `);
    });

    deleteButton.id = todo.id;

    deleteButton.addEventListener("click", () => {
      deleteEl(todo.id);
    });

    title.textContent = todo.title;
    status.textContent = todo.completed
      ? "isCompleted : true"
      : "isCompleted : false";

    elContainer.appendChild(clone);
  });
}
